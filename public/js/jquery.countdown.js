!function(t){var e=function(e,n){var o,d=t(e),i=t.extend({},n.defaults,n.current),a={},c=function(){a.total=Math.floor((a.end.getTime()-a.start.getTime())/864e5),a.days=Math.floor((a.end.getTime()-a.now.getTime())/864e5),a.mod=(a.end.getTime()-a.now.getTime())%864e5,a.hours=Math.floor(a.mod/36e5),a.mod=a.mod%36e5,a.minutes=Math.floor(a.mod/6e4),a.mod=a.mod%6e4,a.seconds=Math.floor(a.mod/1e3)},r=function(t){var e=d.find("."+t+"-container"),n=d.find("."+t+"-container .clock-icon"),o=n.children("canvas").get(0),c=o.getContext("2d");switch(c.clearRect(0,0,o.width,o.height),c.beginPath(),c.shadowBlur=10,c.shadowOffsetX=0,c.shadowOffsetY=0,c.shadowColor="none",c.lineWidth=i.lineWidth,""==i.countdownRound?c.strokeStyle=i.backColor:c.strokeStyle=i.countdownRound,c.arc(o.width/2,o.width/2,(o.width-c.lineWidth)/2,w(0),w(360)),c.stroke(),""==i.countdownColor?c.strokeStyle=i.frontColor:c.strokeStyle=i.countdownColor,c.beginPath(),t){case"days":c.arc(o.width/2,o.width/2,(o.width-c.lineWidth)/2,w(0),w(360/a.total*a.days)),e.find(".clock-data ."+t+"-value").text(a.days);break;case"hours":c.arc(o.width/2,o.width/2,(o.width-c.lineWidth)/2,w(0),w(15*a.hours)),e.find(".clock-data ."+t+"-value").text(a.hours);break;case"minutes":c.arc(o.width/2,o.width/2,(o.width-c.lineWidth)/2,w(0),w(6*a.minutes)),e.find(".clock-data ."+t+"-value").text(a.minutes);break;case"seconds":c.arc(o.width/2,o.width/2,(o.width-c.lineWidth)/2,w(0),w(6*a.seconds)),e.find(".clock-data ."+t+"-value").text(a.seconds)}c.stroke()},s=function(){o=setInterval(function(){a.end.getTime()-a.now.getTime()>=0?(a.now.setSeconds(a.now.getSeconds()+1),l()):(h(),u())},1e3)},h=function(){clearInterval(o)},l=function(){c(),r("days"),r("hours"),r("minutes"),r("seconds")},u=function(){d.find(".clock-container").hide(),d.find(".clock-done").show()},w=function(t){return Math.PI/180*t-Math.PI/180*90};!function(){a.start=new Date(i.startDate.replace(new RegExp("-","g"),"/")),a.end=new Date(i.endDate.replace(new RegExp("-","g"),"/")),a.now=new Date(i.now),l(),s()}()};t.fn.countdown=function(n){return this.each(function(){var o=t(this);if(!o.data("countdown")){var d=new e(this,n);o.data("countdown",d)}})}}(jQuery);