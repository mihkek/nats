!function(t,i){"use strict";var a=function(a,n){var e,r,s=t(a),o=t.extend({},n.defaults,n.current),c="right",f=0,d=0,l=!1,u={},p=function(){v(),w(),b(),"box"==o.layout?(f=void 0!==o.boxEnableAutoplay?o.boxEnableAutoplay:0,d=void 0!==o.boxEnableFading?o.boxEnableFading:0):(f=void 0!==o.listEnableAutoplay?o.listEnableAutoplay:0,d=void 0!==o.listEnableFading?o.listEnableFading:0),s.hasClass("elm-testimonials")&&h(),q(),F(),L(),0!=f&&(y(),k());var t=s.find(".carousel-container");t.append(t.find(".item").parent().clone()),t.prepend(t.find(".item:last").parent()),t.css({"margin-left":-(u.width+u.gap)}),s.find(".loading").fadeOut("fast")},h=function(){var t=m();s.find(".carousel-container").children("div.item-box").each(function(){jQuery(this).find(".item-excerpt").height(t)})},m=function(){var t=0;return s.find(".carousel-container").children("div.item-box").each(function(){var i=jQuery(this).find(".item-excerpt");i.height()>t&&(t=i.height())}),t},v=function(){s.parent().parent().addClass("carousel-enabled"),u.count=s.find(".carousel-item").length,g()},g=function(){var i=s.find(".carousel-container");i.removeAttr("style"),i.find(".carousel-item").each(function(){t(this).removeAttr("style")}),u.width=parseInt(i.find(".carousel-item").first().width()),u.gap=parseInt(i.find(".carousel-item").first().outerWidth(!0)-u.width),r=Math.round(s.parent().width()/(u.width+u.gap)),i.find(".carousel-item").each(function(){t(this).css({width:u.width,"margin-right":u.gap})}),i.width(parseInt((u.width+u.gap)*u.count)),i.css({"margin-left":-(u.width+u.gap)}),I(),i.find(".carousel-item").css({visibility:"visible"})},b=function(){i.resize(function(){g()})},w=function(){var i=s.find(".carousel-container");i.find(".carousel-item").each(function(){t(this).removeClass("first-visible").removeClass("last-visible")});var a=parseInt(i.attr("data-first")),n=parseInt(i.attr("data-first"))+(r-1);x(a,"first-visible"),x(n,"last-visible")},I=function(){s.find(".carousel-container").attr("data-first",1),w()},x=function(i,a){s.find(".carousel-item").each(function(){parseInt(t(this).data("id"))==i&&t(this).addClass(a)})},y=function(){e=setInterval(function(){Q()},5e3)},E=function(){clearInterval(e)},C=function(t,i){var a=s.find(".carousel-container");switch(t){case"left":var n,e;l=!0;var n=(parseInt(a.attr("data-first")),parseInt((u.width+u.gap)*i)),e=parseInt(a.css("margin-left"))+n;a.animate({opacity:0},250,function(){a.delay(500).animate({marginLeft:e},{queue:!0,duration:100,complete:function(){a.find("div.item-box:first").before(a.find("div.item-box:last")),a.css({"margin-left":-(u.width+u.gap)}),w(),a.delay(100).animate({opacity:1},250,function(){l=!1})}})});break;case"right":var n,e;l=!0;var n=(parseInt(a.attr("data-first")),parseInt((u.width+u.gap)*i)),e=parseInt(a.css("margin-left"))-n;a.animate({opacity:0},250,function(){a.delay(500).animate({marginLeft:e},{queue:!0,duration:100,complete:function(){a.find("div.item-box:last").after(a.find("div.item-box:first")),a.css({"margin-left":-(u.width+u.gap)}),w(),a.delay(100).animate({opacity:1},250,function(){l=!1})}})})}},A=function(t,i){var a=s.find(".carousel-container");switch(t){case"left":var n,e;l=!0;var n=(parseInt(a.attr("data-first")),parseInt((u.width+u.gap)*i)),e=parseInt(a.css("margin-left"))+n;a.animate({marginLeft:e},{queue:!0,duration:500,complete:function(){a.find("div.item-box:first").before(a.find("div.item-box:last")),a.css({"margin-left":-(u.width+u.gap)}),w(),l=!1}});break;case"right":var n,e;l=!0;var n=(parseInt(a.attr("data-first")),parseInt((u.width+u.gap)*i)),e=parseInt(a.css("margin-left"))-n;a.animate({marginLeft:e},{queue:!0,duration:500,complete:function(){a.find("div.item-box:last").after(a.find("div.item-box:first")),a.css({"margin-left":-(u.width+u.gap)}),w(),l=!1}})}},j=function(t){var i=s.find(".carousel-container");parseInt(i.attr("data-first")),parseInt(i.attr("data-first")),i.attr("data-last");0!=d?C(c,t):A(c,t)},Q=function(){0==l&&j(1)},k=function(){s.parent().hover(function(){E()},function(){y()})},q=function(){s.parent().append('<div class="carousel-arrows"><div class="arrow arrow-left">&lt;</div><div class="arrow arrow-right">&gt;</div></div>')},F=function(){s.parent().find(".carousel-arrows .arrow-left").css({cursor:"pointer"}).click(function(){0==l&&(0!=d?C("left",1):A("left",1))})},L=function(){s.parent().find(".carousel-arrows .arrow-right").css({cursor:"pointer"}).click(function(){0==l&&(0!=d?C("right",1):A("right",1))})};!function(){var t=s.outerWidth(!0),i=s.find(".carousel-container"),a=i.find(".item-box:first").width(),n=i.find(".item-box:first").outerWidth(!0)-a,e=0;i.find(".item-box").each(function(){e+=jQuery(this).outerWidth(!0)}),e-=n,e>=t?p():(s.parent().parent().removeClass("carousel-enabled"),s.parent().parent().addClass("carousel-disabled"),s.find(".loading").fadeOut("fast"))}()};t.fn.carousel=function(i){return this.each(function(){var n=t(this);if(!n.data("carousel")){var e=new a(this,i);n.data("carousel",e)}})}}(jQuery,jQuery(window));