!function(i){var t=function(t,e){var r=i(t),o=i.extend({},e.defaults,e.current),n={filter:"all",sort:"numeric",reverse:!1},a=function(){return result=0,r.find("ul.portfolio-items-wrapper").children().each(function(){null!=i(this).find(".item-visible").children("img").data("width")&&(result=i(this).find(".item-visible").children("img").data("width"))}),result},l=function(){var i=d(),t=f();return p(i+t)},d=function(){return result=0,0==o.imageHeight?result=a():result=p(o.imageHeight),result},f=function(){return result=0,o.imageDescription&&r.find("ul.portfolio-items-wrapper").children().each(function(){var i=jQuery(this).find(".portfolio-item-desc"),t=p(i.outerHeight(!0)-i.height());result<jQuery(this).find(".portfolio-item-desc").height()&&(result=p(jQuery(this).find(".portfolio-item-desc").height()+t))}),p(result)},s=function(){r.find("div.portfolio-item-img").unbind("mouseenter mouseleave"),r.find("div.portfolio-item-img").hover(function(){var t=i(this).children("a").children("div.portfolio-item-icon");t.length&&(t.css({"background-color":"rgba(51, 51, 51, 0.8)"}),t.stop(!0,!0).fadeIn("slow"))},function(){var t=i(this).children("a").children("div.portfolio-item-icon");t.length&&(t.stop(!0,!0).fadeOut("slow"),t.css({"background-color":"none"}))})},p=function(i){return parseInt(i,10)},c=function(i,t){var e,r;e="all"==n.filter?t.find("li"):t.find("li[class~="+n.filter+"]"),r=e.sorted({reversed:n.reverse,by:function(i){return t=ait.utils.getDataAttr(i,"portfolio-sort-params"),t[n.sort]}}),i.quicksand(r,{duration:750,easing:"jswing",adjustWidth:"auto"},function(){s()})},h=function(i,t){var e=i.width(),r=t.children("li").first().outerWidth(!0);return 0!=Math.floor(e/r)?Math.floor(e/r)*r:r};!function(){var t=a();l();r.find("ul.portfolio-items-wrapper").children().each(function(){i(this).css({width:t})})}(),r.find("ul.portfolio-items-wrapper").width(h(r,r.find("ul.portfolio-items-wrapper"))),function(){i(window).resize(function(){r.find("ul.portfolio-items-wrapper").width(h(r,r.find("ul.portfolio-items-wrapper"))),r.find("ul.portfolio-items-wrapper").css({height:"auto"})})}(),function(){var t=r.find("ul.portfolio-items-wrapper"),e=t.clone();r.find("ul.sort-by li a").click(function(r){r.preventDefault(),n.sort=i(this).attr("data-ait-portfolio-sort"),c(t,e),i(this).parent().parent().parent().find("div.selected span").html(i(this).text())})}(),function(){var t=r.find("ul.portfolio-items-wrapper"),e=t.clone();r.find("ul.order li a").click(function(r){r.preventDefault();var o=i(this).attr("data-ait-portfolio-order");n.reverse="ascending"!=o,c(t,e),i(this).parent().parent().parent().find("div.selected span").html(i(this).text())})}(),function(){var t=r.find("ul.portfolio-items-wrapper"),e=t.clone();r.find("ul.category li a").click(function(r){r.preventDefault(),n.filter=i(this).attr("data-ait-portfolio-filter"),c(t,e),i(this).parent().parent().parent().find("div.selected span").html(i(this).attr("data-ait-portfolio-title"))})}(),function(){var i=r.find("ul.portfolio-items-wrapper"),t=(i.clone(),r.find(".order-wrap .selected").attr("data-ait-portfolio-order"));n.reverse="ascending"!=t,n.sort=r.find(".sort-by-wrap .selected").attr("data-ait-portfolio-sort")}(),function(){r.find("div.filter-wrapper").hover(function(){i(this).find("ul").stop(!0,!0).slideDown()},function(){i(this).find("ul").stop(!0,!0).slideUp()})}(),s(),function(){"colorbox"==o.display&&r.find("ul.portfolio-items-wrapper").children().each(function(){var t="";if(i(this).children("div.portfolio-item-img").hasClass("portfolio-item-type-image"))rel=i(this).children("div.portfolio-item-img").children("a").attr("data-rel"),t=i(this).children("div.portfolio-item-img").children("a").attr("href"),i(this).children("div.portfolio-item-img").colorbox({rel:rel,href:t,transition:"elastic",speed:600,maxWidth:"95%",maxHeight:"95%"});else if(i(this).children("div.portfolio-item-img").hasClass("portfolio-item-type-video")){if(iframe=!0,rel=i(this).children("div.portfolio-item-img").children("a").attr("data-rel"),t=i(this).children("div.portfolio-item-img").children("a").attr("href"),-1!=t.indexOf("youtube")){var e=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i,o=t.match(e);t="https://www.youtube.com/embed/"+o[1]+"?wmode=opaque&amp;showinfo=0&amp;enablejsapi=1"}else{var e=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,o=t.match(e);t="https://player.vimeo.com/video/"+o[3]+"?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff"}i(this).children("div.portfolio-item-img").colorbox({iframe:iframe,rel:rel,href:t,transition:"elastic",speed:600,innerWidth:r.parent().width(),innerHeight:p(r.parent().width()/1.5),maxWidth:"95%",maxHeight:"95%"})}else type="iframe",t=i(this).children("div.portfolio-item-img").children("a").attr("href")})}(),o.progressive||(r.find("div.loading").delay(1e3).fadeOut("fast"),r.parent().parent().addClass("load-finished"))};i.fn.portfolio=function(e){return this.each(function(){var r=i(this);if(!r.data("portfolio")){var o=new t(this,e);r.data("portfolio",o)}})}}(jQuery);