!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=1)}({1:function(t,e,n){t.exports=n("c1Wq")},"2Vzl":function(t,e,n){"use strict";n.r(e),n.d(e,"init",(function(){return r}));var r=function(){$("#formExamUpload").commonForm((function(t,e){var n=$('<div class="custom-alerts alert alert-success fade in"><button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button><i class="fa-lg fa fa-fa fa-check"></i> <span></span></div>');n.find("span").text("Файл был успешно загружен, новый тест-экзамен успешно был создан. Не забудьте обязательно проверить его работоспособность"),$(".alert-area").append(n),setTimeout((function(){return n.fadeOut(500,(function(){return n.remove()}))}),1e4),e.find('input[type="file"]').val(""),e.find('input[name="name"]').val(""),e.find('input[name="name"]').val("")}))}},"5E56":function(t,e,n){"use strict";n.r(e),n.d(e,"init",(function(){return r}));var r=function(){$('[data-toggle="tooltip"]').tooltip()}},"93kz":function(t,e,n){"use strict";n.r(e),n.d(e,"init",(function(){return r}));var r=function(){$("#formUpdateDefault").commonForm("Заполненные данные были успешно сохранены"),$("#formUpdateDefault1").commonForm("Заполненные данные были успешно сохранены"),$("#formUpdateDefault2").commonForm("Заполненные данные были успешно сохранены"),$("#formUpdateDefault3").commonForm("Заполненные данные были успешно сохранены"),$("#formUpdateProfile").commonForm("Личные данные были успешно сохранены"),$("#formUpdateAvatar").commonForm("Аватар был успешно сохранён. Перезагрузите страницу чтобы увидеть новый аватар"),$("#formUpdateAddress").commonForm("Почтовый адрес был успешно сохранён"),$("#formUpdatePassword").commonForm((function(t,e){var n=$('<div class="custom-alerts alert alert-success fade in"><button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button><i class="fa-lg fa fa-fa fa-check"></i> <span></span></div>');n.find("span").text("Пароль был успешно изменен"),$(".alert-area").append(n),setTimeout((function(){return n.fadeOut(500,(function(){return n.remove()}))}),1e4),e.find('input[type="password"]').val("")})),$("#formUpdateAfillate").commonForm((function(t,e){if("success"==t.result){var n=$('<div class="custom-alerts alert alert-success fade in"><button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button><i class="fa-lg fa fa-fa fa-check"></i> <span></span></div>');n.find("span").text("Телефон партнёра был успешно изменен"),$(".alert-area").append(n),setTimeout((function(){return n.fadeOut(500,(function(){return n.remove()}))}),1e4),$("#divUpdateAfillate").slideUp(500)}else if("notfound"==t.result){var r=$('<div class="custom-alerts alert alert-danger fade in"><button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button><i class="fa-lg fa fa-fa fa-check"></i> <span></span></div>');r.find("span").text("Партнёр с таким телефоном отсутствует в базе данных. Пожалуйста проверь, правильно ли был введён номер телефона?"),$(".alert-area").append(r),setTimeout((function(){return r.fadeOut(500,(function(){return r.remove()}))}),1e4)}}))}},"9bGQ":function(t,e,n){"use strict";n.r(e),n.d(e,"start",(function(){return o})),n.d(e,"test",(function(){return a})),n.d(e,"results",(function(){return i}));var r=n("s5tB"),o=function(t){$("#buttonStart").click((function(){return console.log("caoasooo"),Object(r.sendPost)("/admin/exam/".concat(t.test_id,"/start"),{}).then((function(e){document.location.href="/admin/exam/".concat(t.test_id,"/").concat(e.session)})).catch((function(t){alert(t.responseJSON.reason)})),!1}))},a=function(t){console.log("test-initted");var e=$(".question-counter"),n=1e3*(1*e.text())+(new Date).getTime(),o=function(){var t=i.find("input:checked").map((function(t,e){return e.value})).toArray();return Object(r.sendPost)(i.prop("action"),{answer:t,crash:!0}).then((function(t){document.location.reload()})).catch((function(t){console.log(t.responseJSON)})),!1},a=setInterval((function(){var t=(new Date).getTime(),r=Math.max(0,Math.round((n-t)/1e3));r?e.text(r):(clearInterval(a),o())}),600),i=$("#formAnswer");i.submit(o),$("#buttonStart").click((function(){return Object(r.sendPost)("/admin/exam/".concat(t.test_id,"/start"),{}).then((function(e){document.location.href="/admin/exam/".concat(t.test_id,"/").concat(e.session)})).catch((function(t){alert(t.responseJSON.reason)})),!1}))},i=function(t){$("#tableTestResults").on({click:function(t){var e=$(t.target);e.is(".btn-group")||e.closest(".btn-group").length||(document.location.href="/admin/results/"+$(t.currentTarget).attr("data-item-id"))}},"tr[data-item-id]")}},W7If:function(t,e,n){"use strict";n.r(e),n.d(e,"init",(function(){return r}));var r=function(){$("#formPayment").commonForm((function(t){document.location.href=t.url}))}},c1Wq:function(t,e,n){"use strict";n.r(e);var r=function(t){if(!navigator.clipboard)return function(t){var e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.focus(),e.select();try{var n=document.execCommand("copy");return document.body.removeChild(e),n}catch(t){return document.body.removeChild(e),!1}}(t);navigator.clipboard.writeText(t).then((function(){return console.log("Async: Copying to clipboard was successful!"),!0}),(function(t){return console.error("Async: Could not copy text: ",t),!1}))};var o={init:function(){console.log("express your life")}};window.App={menu:n("zfPw"),auth:n("oagx"),common:n("5E56"),fieldUpdater:o,components:{admin_settings:n("93kz"),admin_payment:n("W7If"),admin_tests:n("9bGQ"),admin_authors_upload:n("2Vzl")}},App.auth.init(),App.common.init(),o.init(),$('[data-clipboard-action="copy"]').each((function(){var t=$(this);t.click((function(e){r($(t.attr("data-clipboard-target")).val())}))}))},oagx:function(t,e,n){"use strict";n.r(e),n.d(e,"init",(function(){return r})),n("s5tB").init();var r=function(){var t=$(".page-auth");if(t.length){var e=$("#formLogin"),n=$("#formRegister"),r=$("#formRemindPassword");$(".button-register").click((function(t){return $(".alert").slideUp(300),$("#reminded").html(""),r.hide(),e.hide(),n.show(),n.find('input[name="email"]').focus(),o("/reg"),!1})),t.find(".button-login").click((function(t){return $(".alert").slideUp(300),$("#reminded").html(""),r.hide(),n.hide(),e.show(),e.find('input[name="email"]').focus(),o("/login"),!1})),t.find(".button-forget").click((function(t){return $(".alert").slideUp(300),$("#reminded").html(""),e.hide(),n.hide(),r.show(),o("/reminder"),!1})),e.find('input[name="email"]').focus(),e.commonForm((function(t){""!=t.url?document.location.href=t.url:document.location.href="/admin"})),n.commonForm((function(t){console.log(t),""!=t.url?document.location.href=t.url:document.location.href="/admin"})),r.commonForm((function(t){"notfound"==t.result?$("#reminderError").html("Такой E-mail не зарегистрирован").removeClass("hidden"):""!=t.url?document.location.href=t.url:document.location.href="/admin/login?reminded"}))}};function o(t){try{return void history.pushState(null,null,t)}catch(t){}location.hash="#"+t}},s5tB:function(t,e,n){"use strict";n.r(e),n.d(e,"sendGet",(function(){return r})),n.d(e,"sendPost",(function(){return o})),n.d(e,"init",(function(){return a}));var r=function(t,e){return new Promise((function(n,r){console.log("reqie"),$.ajax({type:"GET",dataType:"json",url:t,data:e,success:function(t){return n(t)},error:function(t){return r(t)},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}})}))},o=function(t,e){return new Promise((function(n,r){$.ajax({type:"POST",dataType:"json",url:t,data:e,success:function(t){return n(t)},error:function(t){return r(t.responseJSON,t.status)},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}})}))},a=function(){$.fn.commonForm=function(t,e,n){return this.each((function(){var n=$(this),r="function"==typeof t?function(e){return t(e,n)}:function(e){if("string"==typeof t){var r=$('<div class="custom-alerts alert alert-success fade in"><button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button><i class="fa-lg fa fa-fa fa-check"></i> <span></span></div>');r.find("span").text(t);var o=$(".alert-area");if(o.length>1){console.log("isolatin");for(var a=n;"body"!==a.prop("tagName").toLowerCase();){if((o=a.find(".alert-area")).length){o=o.eq(0);break}a=a.parent()}}o.length&&(o.append(r),setTimeout((function(){return r.fadeOut(500,(function(){return r.remove()}))}),1e4))}},o="function"==typeof e?function(t){return e(t.responseJSON,t.status)}:function(t){var e=t.responseJSON;if(e&&void 0!==e.redirect)document.location.href=e.redirect;else if(e&&void 0!==e.errors){var r=!1;Object.keys(e.errors).map((function(t){var o=n.find('[name="'+t+'"]'),a=o.closest(".form-group,.quasi-form-group"),i=a.find(".error");0===i.length&&(i=$('<label class="help-inline help-small no-left-padding hidden error"></label>'),a.is(".quasi-form-group")?a.append(i):a.find("div:last").append(i)),console.log("ero: "+i.length+" - "+e.errors[t]),i.removeClass("hidden").html(e.errors[t]),!1===r&&(r=o)})),r&&r.focus()}};n.ajaxForm({beforeSubmit:function(){n.find(".error").addClass("hidden")},dataType:"json",success:r,error:o})}))}}},zfPw:function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e),n.d(e,"init",(function(){return u})),n.d(e,"updateSite",(function(){return s}));var i=[],c=function(){var t=$("#sidebar"),e=t.find(".nav-item.start").remove();t.empty(),t.append(e);var n=function t(e){var n=$('<li class="nav-item"></li>'),r=$('<a href="#"> <span class="title"></span></a>');if(e.url?r.prop("href",e.url):e.modal&&r.prop("href","#"+e.modal).attr("data-toggle","modal"),r.find("span").html(e.name),e.icon&&r.prepend($("<i></i>").addClass(e.icon)),n.append(r),void 0!==(e=function(t){return"site"===t.type&&(t=getSiteSubtree(t)),t}(e)).items){var o=$('<ul class="sub-menu" style="margin: 0"></ul>');r.append('<span class="setClass arrow"></span>'),e.items.map((function(e){o.append(t(e))})),n.append(o)}return n},r=(i.concat().map((function(e){var r=n(e);t.append(r)})),t.find('[href="'+document.location.pathname.replace(/^(\/[^\/]+\/[^\/]+\/[^\/]+).*$/,"$1")+'"]'));if(r.length){var o=r.parent();for(o.addClass("open");o.length;)o.find(">UL").show(),o=o.parent().closest(".nav-item")}},u=function(t){i=t,c(),$("#sidebar").on({click:function(t){var e=$(t.currentTarget);"#"===e.attr("href")&&(e.find(".arrow").toggleClass("open"),e.next("ul").toggle())}},"A")},s=function(t,e){console.log("updating site with"),console.log(e),i=i.map((function(n){return"sites"===n.code?o(o({},n),{},{items:n.items.map((function(n){return n.id==t?(n.services=e,n):n}))}):n})),c()}}});